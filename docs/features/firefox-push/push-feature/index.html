<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Firefox Push · Firefox Ecosystem Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Mozilla Push Service is the server-side project supporting Push Notifications in"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Firefox Push · Firefox Ecosystem Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mozilla.github.io/ecosystem-platform/"/><meta property="og:description" content="Mozilla Push Service is the server-side project supporting Push Notifications in"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/ecosystem-platform/img/fx-master-brand.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script src="/ecosystem-platform/js/scrollSpy.js"></script><link rel="stylesheet" href="/ecosystem-platform/css/main.css"/><script src="/ecosystem-platform/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/ecosystem-platform/"><img class="logo" src="/ecosystem-platform/img/fx-master-brand.png" alt="Firefox Ecosystem Platform"/><h2 class="headerTitleWithLogo">Firefox Ecosystem Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/ecosystem-platform/docs/welcome" target="_self">Docs</a></li><li class=""><a href="https://github.com/mozilla/ecosystem-platform" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Firefox Push</h1></header><article><div><span><p>Mozilla Push Service is the server-side project supporting Push Notifications in
<a href="https://www.mozilla.org/en-US/firefox/">Firefox</a>. The current server is
<a href="https://github.com/mozilla-services/autopush">autopush</a>. You can
learn how to use the web based API to push messages to web
applications running Push by reading the <a href="https://autopush.readthedocs.io/en/latest/http.html">autopush HTTP API
document</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="service-architecture"></a><a href="#service-architecture" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Service Architecture</h2>
<p><img src="/ecosystem-platform/docs/assets/push_architecture.svg" alt="Push Architecture Diagram"></p>
<h2><a class="anchor" aria-hidden="true" id="code"></a><a href="#code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code</h2>
<p>The current production deployment of Push is a Python-based websocket server
named <strong>autopush</strong>, developed on Github. The Push Service team has several
repositories for development of the Push Server, and supporting tooling.</p>
<ul>
<li><a href="https://github.com/mozilla-services/autopush">autopush</a> - Push connection
and endpoint server (Python, only autoendpoint in use)</li>
<li><a href="https://github.com/mozilla-services/autopush-rs">autopush-rs</a> - Push connection
server (Rust, connection-node only, production deployed)</li>
<li><a href="https://github.com/mozilla-services/megaphone">megaphone</a> - Global broadcast
server</li>
<li><a href="https://github.com/mozilla-services/ap-loadtester/">ap-loadtester</a> - Load and
end-to-end Push testing application</li>
</ul>
<p>See the <a href="#architecture">architecture</a> image for reference on what components
each of these code pieces correspond to.</p>
<h2><a class="anchor" aria-hidden="true" id="people-and-places"></a><a href="#people-and-places" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>People and Places</h2>
<ul>
<li><a href="https://github.com/bbangert">Ben Bangert</a> - Engineering (San Francisco, UTC-8)</li>
<li><a href="https://github.com/jrconlin">JR Conlin</a> - Engineering (Mountain View, UTC-8)</li>
<li><a href="https://github.com/pjenvey">Philip Jenvey</a> - Engineering (San Francisco, UTC-8)</li>
<li><a href="https://github.com/chartjes">Chris Hartjes</a> - QA (Ontario, UTC-5)</li>
<li><a href="https://github.com/oremj">Jeremy Orem</a> - Operations (Portland, UTC-8)</li>
<li><a href="https://github.com/jdragojevic">Janet Dragojevic</a> - Application Services Manager (New York, UTC-5)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="product"></a><a href="#product" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Product</h3>
<ul>
<li>Alex Davis (:ADavis) - Product Manager (Vancouver, UTC-8)</li>
<li>Julie McCracken (:Julie) - Engineering Program Manager (San Diego, UTC-8)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="mail-lists-and-irc"></a><a href="#mail-lists-and-irc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mail Lists and IRC</h3>
<p>Additional ways to get in contact with the team:</p>
<ul>
<li>The <a href="https://groups.google.com/a/mozilla.com/forum/#!forum/push-service">Push-Service mail list (public)</a></li>
<li>The <a href="http://groups.google.com/a/mozilla.com/group/push/">Push mailing list (Mozilla internal)</a></li>
<li>The <code>#push</code> channel on <a href="https://wiki.mozilla.org/IRC">Mozilla IRC</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="sending-push-messages"></a><a href="#sending-push-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sending Push Messages</h2>
<p>If you are interested in using WebPush for your application, there are
a number of resources that should help.</p>
<p>If you are adding Push to your browser or progressive enhancement
application, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Using_the_Push_API">Using the Push
API</a>
on MDN.</p>
<p>If you are creating a service that sends Push messages to remote
browser applications, see <a href="https://autopush.readthedocs.io/en/latest/http.html">HTTP Endpoints for
Notifications</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="terminology"></a><a href="#terminology" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminology</h2>
<p>The Push Service uses a range of terminology that can be difficult at first to
keep straight. This is a list of commonly used terms and phrases with their
meaning in the context of Push.</p>
<p>For an overview of how these terms fit together to deliver a push message to a
user-agent, <a href="https://wiki.mozilla.org/Firefox/Push_Notifications#Technologies">see the Firefox Push Notification high-level
diagram</a>. This
page also includes descriptions of related technologies that help to deliver a
cohesive Push Notification experience.</p>
<p>Where applicable, these match the <a href="https://tools.ietf.org/html/draft-ietf-webpush-protocol-01#section-1.1">Webpush Spec Terminology</a>.</p>
<dl>
    <dt>Application</dt>
    <dd>Both the sender and ultimate consumer of push messages. Many applications
  have components that are run on a user agent and other components that run on
  servers.</dd>
    <dt>Application Server</dt>
    <dd>The component of an application that runs on a server and requests the
  delivery of a push message.</dd>
    <dt>Channel ID</dt>
    <dd>Legacy terminology for a Push Message Subscription utilized by WebPush and
  the websocket client protocol.</dd>
    <dt>Endpoint</dt>
    <dd>A REST-ful HTTP URL uniquely associated with a Push Message Subscription. This
  is referred to as a "push resource" in the [WebPush specification][wp].</dd>
    <dt>Push Message Subscription</dt>
    <dd>A message delivery context that is established between the user agent and the
  push service and shared with the application server.  All push messages are
  associated with a push message subscription.</dd>
    <dt>Push Message</dt>
    <dd>A message sent from an application server to a user agent via a push service.</dd>
    <dt>Push Message Receipt</dt>
    <dd>A message delivery confirmation sent from the push service to the application
  server.</dd>
    <dt>Push Service</dt>
    <dd>A service that delivers push messages to user agents.</dd>
    <dt>SimplePush</dt>
    <dd>Deprecated Firefox OS specific Push system that carries no data, only an incrementing
  version number. The Mozilla Push Service no longer continues to support this legacy API.</dd>
    <dt>UAID</dt>
    <dd>A globally unique UserAgent ID. Used by the Push Service to associate clients
  utilizing the websocket protocol with their associated channel ID's. This
  string is always a UUID.</dd>
    <dt>User Agent</dt>
    <dd>A device and software that is the recipient of push messages.</dd>
    <dt>WebPush</dt>
    <dd>IETF specification regarding Push Messages, the protocol for their delivery
  (HTTP 2.0) to User Agents, and how the Application Server interacts with the
  Push Service. [See the complete Webpush Specification][wp].</dd>
</dl>
<h2><a class="anchor" aria-hidden="true" id="alternate-implementation"></a><a href="#alternate-implementation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alternate Implementation</h2>
<p>Other groups have implemented Push Services implementing WebPush.</p>
<ul>
<li><a href="https://github.com/aerogear/aerogear-unifiedpush-server">Aerogear Unified Push Server</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="community-contributions"></a><a href="#community-contributions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Community Contributions</h2>
<p><a href="https://gist.github.com/matzew">Matthias Wessendorf</a> has provided <a href="https://gist.github.com/matzew/cbda360d72eaaef75971">a quick
hack</a> showing how to call
the server by hand.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#service-architecture">Service Architecture</a></li><li><a href="#code">Code</a></li><li><a href="#people-and-places">People and Places</a><ul class="toc-headings"><li><a href="#product">Product</a></li><li><a href="#mail-lists-and-irc">Mail Lists and IRC</a></li></ul></li><li><a href="#sending-push-messages">Sending Push Messages</a></li><li><a href="#terminology">Terminology</a></li><li><a href="#alternate-implementation">Alternate Implementation</a></li><li><a href="#community-contributions">Community Contributions</a></li></ul></nav></div><footer><img src="/ecosystem-platform/img/mozilla-logo.png" height="24"/><script src="https://unpkg.com/mermaid@8.4.2/dist/mermaid.min.js" type="application/javascript"></script><script>
        mermaid.initialize({
            startOnReady: true,
            theme: 'forest',
            themeCSS: '.noteText { font-family: monospace; }'
          });
        // remarkable converts the mermaid diagrams to HTML and injects a bunch
        // of HTML tags the mermaid parser cannot handle. Remove the HTML and
        // run the parser on the original text.
        const mermaidDiagramEls = document.querySelectorAll('.language-mermaid');
        mermaidDiagramEls.forEach(function(diagramEl, index) {
          // strip out any HTML
          diagramEl.innerHTML = diagramEl.innerText;
          diagramEl.addEventListener('click', (evt) => {
            evt.currentTarget.classList.toggle('highlight');
            document.body.classList.toggle('highlight-service');
          }, false);
        });
        mermaid.init(undefined, mermaidDiagramEls);
        </script></footer></div></body></html>