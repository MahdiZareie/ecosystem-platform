<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Firefox Ecosystem Platform" href="/ecosystem-platform/opensearch.xml"><title data-react-helmet="true">Using VS Code with FxA | Firefox Ecosystem Platform</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://mozilla.github.io/ecosystem-platform/how-tos/using-vscode-with-fxa"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Using VS Code with FxA | Firefox Ecosystem Platform"><meta data-react-helmet="true" name="description" content="Getting Started"><meta data-react-helmet="true" property="og:description" content="Getting Started"><link data-react-helmet="true" rel="shortcut icon" href="/ecosystem-platform/img/firefox-logo.png"><link data-react-helmet="true" rel="canonical" href="https://mozilla.github.io/ecosystem-platform/how-tos/using-vscode-with-fxa"><link data-react-helmet="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/how-tos/using-vscode-with-fxa" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mozilla.github.io/ecosystem-platform/how-tos/using-vscode-with-fxa" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/ecosystem-platform/assets/css/styles.738c8573.css">
<link rel="preload" href="/ecosystem-platform/assets/js/runtime~main.5dc7885c.js" as="script">
<link rel="preload" href="/ecosystem-platform/assets/js/main.bf9070c4.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ecosystem-platform/"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/ecosystem-platform/img/firefox-logo.png" alt="Ecosystem Platform Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Firefox Ecosystem Platform</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mozilla/ecosystem-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/ecosystem-platform/">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menuLinkText_OKON">For Relying Parties</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Firefox Accounts</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Subscription Platform</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menuLinkText_OKON">For FxA Engineers</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tutorials</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">How-to Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/creating-an-account-locally">Creating an Account Locally</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/local-emails-with-maildev">Local Emails with MailDev</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/node-debugging">Node Debugging</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ecosystem-platform/how-tos/using-vscode-with-fxa">Using VS Code with FxA</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/managing-yarn-dependencies">Managing Yarn Dependencies</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/connecting-to-a-local-mysql-db">Connecting to a local MySQL DB</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/how-tos/using-a-custom-profile-with-firefox">Using a Custom Profile with Firefox</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reference</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Explanation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/ecosystem-platform/additional-docs">Additional Docs</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using VS Code with FxA</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>To get familiar with VS Code it&#x27;s recommended to read the <a href="https://code.visualstudio.com/docs/getstarted/userinterface" target="_blank" rel="noopener noreferrer">getting started</a>
section of the VS Code docs so you&#x27;re familiar with the UI terminology.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="extensions"></a>Extensions<a class="hash-link" href="#extensions" title="Direct link to heading">#</a></h2><p>Opening the FxA repository will result in VS Code prompting you (in the lower right
of your VS Code Window) to install the project&#x27;s &quot;Recommended Extensions&quot;. These include
all the common extensions that will help in working with the FxA project&#x27;s
packages.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="multi-root-workspaces"></a>Multi-Root Workspaces<a class="hash-link" href="#multi-root-workspaces" title="Direct link to heading">#</a></h2><p>In VS code, you typically open up a folder and the <code>.vscode</code> directory inside
is used for the project&#x27;s debugging/task configurations and settings. Since the
FxA repository is a mono-repo containing many individual packages, a single
global <code>.vscode</code> in the root directory is used for monorepo-wide settings and
to recommend extensions. However, there are <code>.vscode</code> directories within the
individual <code>packages/*</code> that add additional package specific debugging/task
configurations.</p><p>To utilize these you can open the desired package folder directly or use a
multi-root workspace. Using the multi-root workspace feature allows you to add
multiple package folders to your workspace which enables all of their individual
debugging/task configurations.</p><p>See the <a href="https://code.visualstudio.com/docs/editor/multi-root-workspaces#_adding-folders" target="_blank" rel="noopener noreferrer">VS Code docs</a> for instructions on how to add a folder to your workspace.
Note that the first time you add a folder it will create a new Unnamed Workspace. You
can save the workspace as a file to easily resume the chosen open package folders
for future use as well.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="using-the-vs-code-debugger"></a>Using the VS Code Debugger<a class="hash-link" href="#using-the-vs-code-debugger" title="Direct link to heading">#</a></h2><p>Once you have added a folder to your workspace, the additional debug/task settings
will be available in the <a href="https://code.visualstudio.com/docs/editor/debugging#_debug-view" target="_blank" rel="noopener noreferrer">Debug View</a>. If you don&#x27;t see any after adding
a package folder with a <code>.vscode</code> directory, you may need to run &#x27;Developer: Reload Window&#x27;
from the <a href="https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette" target="_blank" rel="noopener noreferrer">command palette</a>.</p><p>The following videos show how to run test tasks and the FxA Auth Server with the debugger.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/g5b-3XSSqdU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe><iframe width="560" height="315" src="https://www.youtube.com/embed/jyqrV3NcLfc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="collaborative-coding--review"></a>Collaborative Coding / Review<a class="hash-link" href="#collaborative-coding--review" title="Direct link to heading">#</a></h2><p>The recommended extensions for FxA install the <a href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare-pack" target="_blank" rel="noopener noreferrer">LiveShare Extension Pack</a>
which includes the <a href="https://code.visualstudio.com/blogs/2017/11/15/live-share" target="_blank" rel="noopener noreferrer">LiveShare extension</a>. Using this extension
you can share your editing and debugging environment including local terminals and the
debug session with invited developers.</p><p>VS Code has <a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/use-cases" target="_blank" rel="noopener noreferrer">documented common use-cases for Live Share</a> that provide
useful tips for setting up collaborative coding sessions. A good jumping off point to
learn more features available is the <a href="https://docs.microsoft.com/en-us/visualstudio/liveshare/overview/features" target="_blank" rel="noopener noreferrer">LiveShare feature overview</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="collaborator-commits"></a>Collaborator Commits<a class="hash-link" href="#collaborator-commits" title="Direct link to heading">#</a></h3><p>When working collaboratively, the final commit should reflect all the collaborators that
worked on it. <a href="https://help.github.com/en/github/committing-changes-to-your-project/creating-a-commit-with-multiple-authors" target="_blank" rel="noopener noreferrer">GitHub properly displays commits written with the <code>Co-Authored-by</code></a>
line appended to the commit message.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="remote-development-via-ssh"></a>Remote Development via SSH<a class="hash-link" href="#remote-development-via-ssh" title="Direct link to heading">#</a></h2><p><a href="https://code.visualstudio.com/docs/remote/remote-overview" target="_blank" rel="noopener noreferrer">Remote development</a> allows you to run the VS Code user interface on your
local machine while a core VS Code instance is run on a remote machine either via SSH,
WSL, docker Containers, or VS Online Azure instances. These instructions are tips for
setting up VS Code to work with a remote instance via SSH, and <strong>should be run on the
remote instance</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ssh-tipstricks"></a>SSH Tips/Tricks<a class="hash-link" href="#ssh-tipstricks" title="Direct link to heading">#</a></h3><p>Copy your local ssh public key to the remote machine on setup, this will create a user
with the username from your ssh keys email address.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="port-forwarding"></a>Port Forwarding<a class="hash-link" href="#port-forwarding" title="Direct link to heading">#</a></h4><p>It&#x27;s useful to configure the forwards for FxA in your <code>~/.ssh/config</code> file so that
they&#x27;re always active upon loading up VS Code. An example is shown below:</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">~/.ssh/config</div><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Host remotedev</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostName yourServerIpAddress</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  User yourUsername</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentityFile </span><span class="token string" style="color:#e3116c">&quot;C:\Users\yourUsername\.ssh\id_rsa_vs_code&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">1080</span><span class="token plain"> localhost:1080</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">1111</span><span class="token plain"> localhost:1111</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">1112</span><span class="token plain"> localhost:1112</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">3030</span><span class="token plain"> localhost:3030</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">3031</span><span class="token plain"> localhost:3031</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> localhost:8080</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">9000</span><span class="token plain"> localhost:9000</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"> localhost:9010</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">9292</span><span class="token plain"> localhost:9292</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># vnc port</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalForward </span><span class="token number" style="color:#36acaa">5901</span><span class="token plain"> localhost:5901</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="increase-file-watch-limit"></a>Increase File watch Limit<a class="hash-link" href="#increase-file-watch-limit" title="Direct link to heading">#</a></h3><p>Add this line to the end of <code>/etc/sysctl.conf</code></p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">/etc/sysctl.conf</div><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">fs.inotify.max_user_watches</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">524288</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Reload sysctl settings:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> sysctl -p</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="git"></a>Git<a class="hash-link" href="#git" title="Direct link to heading">#</a></h3><p>Set your email/username:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> config --global user.email </span><span class="token string" style="color:#e3116c">&quot;you@example.com&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> config --global user.name </span><span class="token string" style="color:#e3116c">&quot;Your Name&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Configure your favorite editor for commit messages (vim):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> config --global core.editor </span><span class="token function" style="color:#d73a49">vim</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-sshgpg-agent-forwarding"></a>Using SSH/GPG Agent Forwarding<a class="hash-link" href="#using-sshgpg-agent-forwarding" title="Direct link to heading">#</a></h3><p>For security reasons it’s useful to avoid leaving SSH/GPG keys on remote development
instances.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="vs-code"></a>VS Code<a class="hash-link" href="#vs-code" title="Direct link to heading">#</a></h4><p>Enable agent forwarding option:</p><p><code>User Settings -&gt; Search for ‘agent’</code>, verify <code>Remote.SSH: Enable Agent Forwarding</code>
is checked.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="ssh-config"></a>SSH Config<a class="hash-link" href="#ssh-config" title="Direct link to heading">#</a></h4><p>Ensure you are running a local ssh-agent. You can see whether your agent is running
and has keys added to it by running <code>ssh-add -l</code> locally. If you do not see your keys,
run ssh-add and it will prompt to add your default keys or view the ssh-add docs to
add specific keys to your agent.</p><p>Additional instructions for ensuring your ssh-agent is running.</p><p>You will then need to add the appropriate setting to your <code>~/.ssh/config</code> file used
with VS Code. For the host in your config file, add <code>ForwardAgent yes</code>, as shown:</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">~/.ssh/config</div><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Host remotedev</span></span><span class="token-line" style="color:#393A34"><span class="token plain">HostName REMOTE_HOST</span></span><span class="token-line" style="color:#393A34"><span class="token plain">User REMOTE_USERNAME</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ForwardAgent </span><span class="token function" style="color:#d73a49">yes</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Open a VS Code session to the remote host, and in the Terminal window run <code>ssh-add -l</code>
to verify the keys from the SSH agent are available. GPG Configuration Based on the
GnuPG Agent Forwarding documentation.</p><p>On your local machine get the location of the extra GPG socket:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpgconf --list-dir agent-extra-socket</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Install gnupg on remote server:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gnupg</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>On the remote machine, get the location of the GPG socket:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpgconf --list-dir agent-socket</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>On the remote machine, edit the <code>/etc/ssh/sshd_config</code> file to add:</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">/etc/ssh/sshd_config</div><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">StreamLocalBindUnlink </span><span class="token function" style="color:#d73a49">yes</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Restart the remote machine’s sshd service</p><p>Ensure that your bash account prompts you for the GPG passphrase correctly by editing
your <code>~/.bashrc</code> with:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GPG_TTY</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">tty</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> GPG_TTY</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Export your GPG public keys and import them on the remote machine.
Edit the local <code>~/.ssh/config</code> file used with VS Code to include the GPG agent socket:</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">~/.ssh/config</div><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Host remotedev</span></span><span class="token-line" style="color:#393A34"><span class="token plain">HostName REMOTE_HOST</span></span><span class="token-line" style="color:#393A34"><span class="token plain">User REMOTE_USERNAME</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ForwardAgent </span><span class="token function" style="color:#d73a49">yes</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">RemoteForward /run/user/1000/gnupg/S.gpg-agent /c/Users/USERNAME/AppData/Roaming/gnupg/S.gpg-agent.extra</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Note that the remote agent-socket is first, followed by the local agent extra socket. On
Windows systems the <code>C:\...</code> path should be translated as shown in the above example.
If you use gpg on the remote system already, you may need to delete the gpg-agent
file that already exists.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="using-sshgpg-keys-on-the-remote-server"></a>Using SSH/GPG Keys on the Remote Server<a class="hash-link" href="#using-sshgpg-keys-on-the-remote-server" title="Direct link to heading">#</a></h3><p>This is a less secure method as the remote server has your ssh/gpg keys that could be
compromised. This method should only be used if you are unable to get GPG agent forwarding
working, which can occasionally occur between some client and SSH host OS&#x27;s.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="gnupg-commit-signing"></a>GnuPG (Commit signing)<a class="hash-link" href="#gnupg-commit-signing" title="Direct link to heading">#</a></h4><p>Most developers have a primary key they regularly use. To prevent this key from possibly
leaking its recommended to generate a new key for the remote machine with a rather long
randomly generated password you keep in a password manager.</p><ol><li><p>Install gnupg on remote server</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gnupg</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>Create a new gpg key</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpg --default-new-key-algo rsa4096 --gen-key</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>Enter your name and e-mail address to use.</p></li><li><p>Set the password from the password manager</p></li><li><p>Run npm install in a separate window to help generate sufficient randomness
on the server</p></li><li><p>Tell git about your gpg key</p></li><li><p>Auto-sign commits per project or everywhere</p></li><li><p>Add your GPG public key to your GitHub account</p></li><li><p>Ensure that your bash account prompts you for the GPG passphrase correctly by
editing your <code>~/.bashrc</code> with:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GPG_TTY</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">\</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">tty</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> GPG_TTY</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mozilla/ecosystem-platform/edit/main/website/docs/how-tos/using-vscode-with-fxa.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ecosystem-platform/how-tos/node-debugging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Node Debugging</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ecosystem-platform/how-tos/managing-yarn-dependencies"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Managing Yarn Dependencies »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#extensions" class="table-of-contents__link">Extensions</a></li><li><a href="#multi-root-workspaces" class="table-of-contents__link">Multi-Root Workspaces</a></li><li><a href="#using-the-vs-code-debugger" class="table-of-contents__link">Using the VS Code Debugger</a></li><li><a href="#collaborative-coding--review" class="table-of-contents__link">Collaborative Coding / Review</a><ul><li><a href="#collaborator-commits" class="table-of-contents__link">Collaborator Commits</a></li></ul></li><li><a href="#remote-development-via-ssh" class="table-of-contents__link">Remote Development via SSH</a><ul><li><a href="#ssh-tipstricks" class="table-of-contents__link">SSH Tips/Tricks</a></li><li><a href="#increase-file-watch-limit" class="table-of-contents__link">Increase File watch Limit</a></li><li><a href="#git" class="table-of-contents__link">Git</a></li><li><a href="#using-sshgpg-agent-forwarding" class="table-of-contents__link">Using SSH/GPG Agent Forwarding</a></li><li><a href="#using-sshgpg-keys-on-the-remote-server" class="table-of-contents__link">Using SSH/GPG Keys on the Remote Server</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Mozilla Corporation.</div></div></div></footer></div>
<script src="/ecosystem-platform/assets/js/runtime~main.5dc7885c.js"></script>
<script src="/ecosystem-platform/assets/js/main.bf9070c4.js"></script>
</body>
</html>