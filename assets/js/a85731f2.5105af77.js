"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[9846],{5657:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>n,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var o=a(87462),r=(a(67294),a(3905));a(8209);const i={id:"product-metrics",title:"RP Product Metrics in Looker",sidebar_label:"Product metrics"},s=void 0,l={unversionedId:"relying-parties/how-tos/product-metrics",id:"relying-parties/how-tos/product-metrics",title:"RP Product Metrics in Looker",description:"Last updated: Oct 6th, 2023",source:"@site/docs/relying-parties/how-tos/product-metrics.md",sourceDirName:"relying-parties/how-tos",slug:"/relying-parties/how-tos/product-metrics",permalink:"/ecosystem-platform/relying-parties/how-tos/product-metrics",draft:!1,editUrl:"https://github.com/mozilla/ecosystem-platform/edit/master/docs/relying-parties/how-tos/product-metrics.md",tags:[],version:"current",frontMatter:{id:"product-metrics",title:"RP Product Metrics in Looker",sidebar_label:"Product metrics"},sidebar:"docs",previous:{title:"Apple IAP",permalink:"/ecosystem-platform/relying-parties/how-tos/apple-iap"},next:{title:"Device Registration (Sync)",permalink:"/ecosystem-platform/relying-parties/how-tos/device-registration"}},n={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Accessing the SubPlat product dashboards in Looker",id:"accessing-the-subplat-product-dashboards-in-looker",level:2},{value:"SubPlat Subscriptions dashboard",id:"subplat-subscriptions-dashboard",level:3},{value:"What is a Logical Subscription?",id:"what-is-a-logical-subscription",level:4},{value:"SubPlat Checkout dashboard",id:"subplat-checkout-dashboard",level:3},{value:"What is Checkout?",id:"what-is-checkout",level:4},{value:"How the dashboards get updated",id:"how-the-dashboards-get-updated",level:3},{value:"Filtering the SubPlat product dashboard for your product(s)",id:"filtering-the-subplat-product-dashboard-for-your-products",level:2},{value:"Looker tips and tricks",id:"looker-tips-and-tricks",level:2},{value:"How to get help",id:"how-to-get-help",level:2}],u={toc:d},p="wrapper";function c(e){let{components:t,...a}=e;return(0,r.kt)(p,(0,o.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Last updated: ",(0,r.kt)("inlineCode",{parentName:"p"},"Oct 6th, 2023")),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"As of ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla-hub.atlassian.net/browse/FXA-6927"},"September 30th, 2023"),", the Subscription Platform provides product dashboards in Looker that include subscription, customer, funnel, acquisition and error metrics for all integrated RPs. You can easily filter the dashboards by product to see only your product metrics."),(0,r.kt)("p",null,"A more technical discussion (geared toward FxA engineers) can be found in the ",(0,r.kt)("a",{parentName:"p",href:"/ecosystem-platform/reference/metrics"},"Metrics")," reference."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"This guide assumes you are already integrated with FxA/the Subscription Platform; please see ",(0,r.kt)("a",{parentName:"p",href:"/ecosystem-platform/relying-parties/tutorials/integration-with-subscription-platform"},"Integration with Subscription Platform")," for more information."),(0,r.kt)("p",null,"It is recommended to review the data team's ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla.udemy.com/course/mozilla-looker-getting-started/learn/lecture/34914774#overview"},"Looker introduction Udemy course")," and ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla-hub.atlassian.net/wiki/spaces/DATA/pages/6849492/Looker+Training+Resources"},"docs")," as well as ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.google.com/looker/docs/intro"},"Looker's official documentation")," if you have never used it before."),(0,r.kt)("h2",{id:"accessing-the-subplat-product-dashboards-in-looker"},"Accessing the SubPlat product dashboards in Looker"),(0,r.kt)("p",null,"Anyone at Mozilla can view the SubPlat Looker dashboards, which are in the ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla.cloud.looker.com/folders/1355"},"Subscription Platform folder")," and include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://mozilla.cloud.looker.com/dashboards/1329"},"SubPlat Subscriptions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://mozilla.cloud.looker.com/dashboards/1371"},"SubPlat Checkout"))),(0,r.kt)("h3",{id:"subplat-subscriptions-dashboard"},"SubPlat Subscriptions dashboard"),(0,r.kt)("p",null,"The Subscriptions dashboard leverages one or more Subscription Platform > Logical Subscription(s) explores in Looker. This pulls data indirectly from our subscription providers (i.e. Stripe, Apple and Google), so it allows us to see information like:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Customer and subscription totals and changes over time"),(0,r.kt)("li",{parentName:"ul"},"Subscription lifecycle events like start, end and plan changes (i.e. upgrades or downgrades)")),(0,r.kt)("h4",{id:"what-is-a-logical-subscription"},"What is a Logical Subscription?"),(0,r.kt)("p",null,"Think of this as a subscription provider's view on a subscription. For example, Stripe doesn't know about bundled subscriptions, so a bundle is considered a single subscription."),(0,r.kt)("p",null,"Currently, only Stripe and PayPal subscriptions are reflected in these explores. Once ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla-hub.atlassian.net/browse/DENG-975"},"DENG-975")," and ",(0,r.kt)("a",{parentName:"p",href:"https://mozilla-hub.atlassian.net/browse/DENG-976"},"DENG-976")," are complete, these explores will also include Google and Apple IAP subscriptions, respectively."),(0,r.kt)("h3",{id:"subplat-checkout-dashboard"},"SubPlat Checkout dashboard"),(0,r.kt)("p",null,"The Checkout dashboard leverages the Firefox Accounts > All Event Counts explore in Looker and is based on user events pulled from SubPlat's application logs, so it allows us to see information like:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Conversion funnel events during checkout"),(0,r.kt)("li",{parentName:"ul"},"New subscriber acquisition"),(0,r.kt)("li",{parentName:"ul"},"Errors encountered during checkout")),(0,r.kt)("h4",{id:"what-is-checkout"},"What is Checkout?"),(0,r.kt)("p",null,"Checkout is the process by which a user subscribes, upgrades or downgrades their subscription through SubPlat's website."),(0,r.kt)("h3",{id:"how-the-dashboards-get-updated"},"How the dashboards get updated"),(0,r.kt)("p",null,"There are ETLs (Extract, Transform and Load jobs) that run daily. "),(0,r.kt)("p",null,'You can see when data for a given panel in a dashboard was last updated by clicking on the overflow menu in the top right corner of the panel, clicking "Explore from here", selecting the Table Metadata > Last Modified Date > Date dimension in the left side bar and rerunning the data to populate that column.'),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The date the data was updated captures data up to and including the day prior to the update. For example, a Last Modified Date of 2023-10-03 indicates that the data in the panel is up to and including data from 2023-10-02 UTC.")),(0,r.kt)("h2",{id:"filtering-the-subplat-product-dashboard-for-your-products"},"Filtering the SubPlat product dashboard for your product(s)"),(0,r.kt)("p",null,"While the default dashboards show subscription and customer data for all products, there are a number of top level dashboard filters including a Product Name filter."),(0,r.kt)("p",null,'Simply click the Product Name filter at the top of the dashboard and check every product you\'d like to see data for, then click the "Update" button to update the dashboard.'),(0,r.kt)("h2",{id:"looker-tips-and-tricks"},"Looker tips and tricks"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When you apply dashboard filters, the dashboard URL changes, and this URL can be easily bookmarked or shared to automatically apply the same filters (such as product name and/or a date range).",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"E.g. ",(0,r.kt)("a",{parentName:"li",href:"https://mozilla.cloud.looker.com/dashboards/1329?Date=2023%2F09%2F26+to+2023%2F10%2F04&Product+Name=Mozilla+VPN%2CMozilla+VPN+%26+Firefox+Relay"},"https://mozilla.cloud.looker.com/dashboards/1329?Date=2023%2F09%2F26+to+2023%2F10%2F04&Product+Name=Mozilla+VPN%2CMozilla+VPN+%26+Firefox+Relay")," is a deep link that filters by product name for Mozilla VPN and Mozilla VPN & Firefox Relay for the date range of 2023-09-26 to 2023-10-03."))),(0,r.kt)("li",{parentName:"ul"},"When viewing a panel with a legend, clicking a legend item toggles its visibility, and alt + clicking the legend item singles just that item out in the panel."),(0,r.kt)("li",{parentName:"ul"},"Some panels have a small Info icon. If you hover over the icon, it will tell you more information about that panel."),(0,r.kt)("li",{parentName:"ul"},"Use as small a date range as possible for faster results when updating dashboards, panels or data in an explore."),(0,r.kt)("li",{parentName:"ul"},'When exploring the data for a given panel (say by clicking the overflow menu on the panel from a dashboard and clicking "Explore from here"), any filters applied will also update the SQL query in the SQL tab of the bottom-most Data section in the main content area.')),(0,r.kt)("h2",{id:"how-to-get-help"},"How to get help"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Have a Looker or other data question? Ask in the ",(0,r.kt)("a",{parentName:"li",href:"https://app.slack.com/client/T027LFU12/C4D5ZA91B"},(0,r.kt)("inlineCode",{parentName:"a"},"#data-help")," Slack channel"),"."),(0,r.kt)("li",{parentName:"ul"},"Have a product question about one of the SubPlat dashboards? Ask in the ",(0,r.kt)("a",{parentName:"li",href:"https://app.slack.com/client/T027LFU12/CG0AJ6E77"},(0,r.kt)("inlineCode",{parentName:"a"},"#subscription-platform")," Slack channel"),".")))}c.isMDXComponent=!0}}]);