"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[6119],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return f}});var i=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=i.createContext({}),p=function(e){var t=i.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(r),f=n,m=d["".concat(l,".").concat(f)]||d[f]||u[f]||a;return r?i.createElement(m,o(o({ref:t},c),{},{components:r})):i.createElement(m,o({ref:t},c))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,o=new Array(a);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var p=2;p<a;p++)o[p]=r[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,r)}d.displayName="MDXCreateElement"},95536:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var i=r(87462),n=r(63366),a=(r(67294),r(3905)),o=["components"],s={id:"sub-plat-overview",title:"Subscription Platform Overview"},l=void 0,p={unversionedId:"relying-parties/reference/sub-plat-overview",id:"relying-parties/reference/sub-plat-overview",title:"Subscription Platform Overview",description:"Introduction",source:"@site/docs/relying-parties/reference/sub-plat-overview.md",sourceDirName:"relying-parties/reference",slug:"/relying-parties/reference/sub-plat-overview",permalink:"/ecosystem-platform/relying-parties/reference/sub-plat-overview",editUrl:"https://github.com/mozilla/ecosystem-platform/edit/master/docs/relying-parties/reference/sub-plat-overview.md",tags:[],version:"current",frontMatter:{id:"sub-plat-overview",title:"Subscription Platform Overview"},sidebar:"docs",previous:{title:"Metrics",permalink:"/ecosystem-platform/relying-parties/reference/metrics-for-relying-parties"},next:{title:"Subscription Features",permalink:"/ecosystem-platform/relying-parties/reference/sub-plat-features"}},c=[{value:"Introduction",id:"introduction",children:[],level:2},{value:"How subscriptions work",id:"how-subscriptions-work",children:[],level:2},{value:"Terminology",id:"terminology",children:[{value:"Relying Party",id:"relying-party",children:[],level:3},{value:"Product",id:"product",children:[],level:3},{value:"Plan",id:"plan",children:[],level:3},{value:"Capability",id:"capability",children:[],level:3},{value:"FxA Event Broker",id:"fxa-event-broker",children:[],level:3}],level:2}],u={toc:c};function d(e){var t=e.components,r=(0,n.Z)(e,o);return(0,a.kt)("wrapper",(0,i.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"What is the Subscription Platform? Think of it as a catch-all name for a set of interdependent features that allow users to unlock premium value by entering into a subscription relationship with Mozilla, and that allows Mozilla to receive payment, track subscriptions and provide support to users. Breaking this down further, Sub Plat provides the following:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Payment & Subscription Creation")," - The initial payment funnel where users enter CC information to subscribe to a product. We use Stripe to handle transactions."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Entitlement")," - The ability for your app or apps to see and respond to a user's subscription status."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Billing")," - Ongoing billing & receipt emails once a subscription is entered."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Subscription Management UI")," - Settings that allow the user to update payment information."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Subscription Support")," - Staffed support for end users."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Revenue and funnel metrics")," - dashboards in Looker and Stripe that provide insights into conversion through the subscription funnel, as well as revenue data such as MRR and churn.")),(0,a.kt)("h2",{id:"how-subscriptions-work"},"How subscriptions work"),(0,a.kt)("p",null,"From your product's perspective, subscriptions are basically just metadata that attach to a user's Firefox Account. Once a user has subscribed to your product, their FxA profile reflects their subscribed state and your product can respond accordingly."),(0,a.kt)("p",null,"Importantly, subscriptions are not locked to any one FxA-attached product by default, so if a user is subscribed to Firefox Foo, Firefox Bar can optionally see the subscription metadata as well. In this way, we can create subscription bundles that can span multiple different products or services. ",(0,a.kt)("a",{parentName:"p",href:"https://mana.mozilla.org/wiki/display/FJT/Tutorial+Videos"},"These videos")," give a general overview of what subscription setup looks like."),(0,a.kt)("p",null,"If a user cancels their subscription, this metadata goes away and your product can go back to treating them as a non-subscribed user."),(0,a.kt)("h2",{id:"terminology"},"Terminology"),(0,a.kt)("p",null,"Before diving into ",(0,a.kt)("a",{parentName:"p",href:"/ecosystem-platform/relying-parties/reference/sub-plat-features"},"features")," and ",(0,a.kt)("a",{parentName:"p",href:"integration-with-subscription-platform.md"},"integration")," how-tos, it's useful to align on key terminology."),(0,a.kt)("h3",{id:"relying-party"},"Relying Party"),(0,a.kt)("p",null,"A ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Relying_party"},"relying party (RP)")," is any service that uses Firefox Accounts. This can be a free or subscription service. Firefox Monitor, Mozilla VPN and Firefox Sync are all examples of relying parties."),(0,a.kt)("h3",{id:"product"},"Product"),(0,a.kt)("p",null," This term has a specific meaning in subscription world. A Product refers to one or more Relying Party services that are sold as a unit. For example, since we sell the Mozilla VPN alone, that is a product. If we were to sell another product Called Mozilla VPN Plus that bundled a password manager, that would be another product."),(0,a.kt)("h3",{id:"plan"},"Plan"),(0,a.kt)("p",null,"This referrers to a product billed at a specific amount charged at a specific interval. So, if the product is Mozilla VPN, the Plan might Be ",(0,a.kt)("em",{parentName:"p"},"Mozilla VPN, billed monthly at $4.99 USD"),"."),(0,a.kt)("p",null,"Stripe is used to handle payments and subscriptions in the Subscription Platform. Terminology dealing with products and plans uses the ",(0,a.kt)("a",{parentName:"p",href:"https://stripe.com/docs/billing/subscriptions/products-and-plans"},"Stripe definitions of Product/Plan"),"."),(0,a.kt)("h3",{id:"capability"},"Capability"),(0,a.kt)("p",null,"This is how your Relying Parties know they're subscribed. Each product is associated with the capabilities that it confers to a user. A bundle product may include multiple capabilities provided by varying ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Relying_party"},"relying parties (RPs)"),", or a single product may confer a single capability provided by multiple RPs. These capabilities are typically RP-specific."),(0,a.kt)("p",null,"Subscription capabilities are lower-case strings that will be included in the users profile data and webhook ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mozilla/fxa/tree/main/packages/fxa-event-broker#subscription-state-change"},"subscription state notifications"),"."),(0,a.kt)("h3",{id:"fxa-event-broker"},"FxA Event Broker"),(0,a.kt)("p",null,"This is a service that distributes ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mozilla/fxa/tree/main/packages/fxa-event-broker#relying-party-event-format"},"relying party events")," to FxA integrations that have a registered ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Webhook"},"webhook")," URL. These events are only sent to integrations that a FxA user has logged into."))}d.isMDXComponent=!0}}]);