"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[7744],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),f=c(n),m=i,d=f["".concat(l,".").concat(m)]||f[m]||u[m]||o;return n?r.createElement(d,a(a({ref:t},p),{},{components:n})):r.createElement(d,a({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},75799:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return f}});var r=n(87462),i=n(63366),o=(n(67294),n(3905)),a=["components"],s={id:"using-apis",title:"Using APIs",sidebar_label:"Using APIs"},l="Using APIs",c={unversionedId:"platform/using-apis",id:"platform/using-apis",title:"Using APIs",description:"The Ecosystem Platform provides some public APIs.  Usage and expectations are detailed below.  Narrower requirements and rate limits may apply to more specific APIs.",source:"@site/docs/platform/using-apis.md",sourceDirName:"platform",slug:"/platform/using-apis",permalink:"/ecosystem-platform/platform/using-apis",editUrl:"https://github.com/mozilla/ecosystem-platform/edit/main/website/docs/platform/using-apis.md",tags:[],version:"current",frontMatter:{id:"using-apis",title:"Using APIs",sidebar_label:"Using APIs"},sidebar:"docs",previous:{title:"Coupons",permalink:"/ecosystem-platform/platform/sub-plat/sub-plat-coupons"},next:{title:"Development Setup",permalink:"/ecosystem-platform/tutorials/development-setup"}},p=[{value:"API versioning",id:"api-versioning",children:[{value:"Minor changes",id:"minor-changes",children:[],level:3}],level:2},{value:"Global Rate Limits",id:"global-rate-limits",children:[],level:2}],u={toc:p};function f(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"using-apis"},"Using APIs"),(0,o.kt)("p",null,"The Ecosystem Platform provides some public APIs.  Usage and expectations are detailed below.  Narrower requirements and rate limits may apply to more specific APIs."),(0,o.kt)("p",null,"If these rules change significantly we'll notify the ",(0,o.kt)("a",{parentName:"p",href:"https://groups.google.com/a/mozilla.com/g/firefox-accounts-notices"},"firefox-accounts-notices group"),".  If you're using this API please subscribe to that group."),(0,o.kt)("h2",{id:"api-versioning"},"API versioning"),(0,o.kt)("p",null,"Firefox Accounts APIs are versioned and breaking changes will be pushed out in newer versions of the APIs.  When newer versions of the API are announced we'll also communicate how long we will support the older versions of the APIs."),(0,o.kt)("h3",{id:"minor-changes"},"Minor changes"),(0,o.kt)("p",null,"Firefox Accounts may change existing APIs in non-breaking ways, for example, adding a new field to a JSON response.  It's expected that clients will not fail if new fields are added."),(0,o.kt)("h2",{id:"global-rate-limits"},"Global Rate Limits"),(0,o.kt)("p",null,'During periods of maintenance or heavy load, the server may request that clients enter a "back-off" state, in which they avoid making further requests.'),(0,o.kt)("p",null,"At such times, you may receive a ",(0,o.kt)("inlineCode",{parentName:"p"},"429 Too Many Requests")," or a ",(0,o.kt)("inlineCode",{parentName:"p"},"503 Service Unavailable")," response with a ",(0,o.kt)("inlineCode",{parentName:"p"},"Retry-After")," header denoting the number of seconds to wait before issuing any further requests. It will also include an ",(0,o.kt)("inlineCode",{parentName:"p"},"errno")," and a ",(0,o.kt)("inlineCode",{parentName:"p"},"retryAfter")," field matching the value of the ",(0,o.kt)("inlineCode",{parentName:"p"},"Retry-After")," header in the body."),(0,o.kt)("p",null,"For example, the following response indicates that the client should suspend making further requests for 30 seconds:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'HTTP/1.1 503 Service Unavailable\nRetry-After: 30\nContent-Type: application/json\n\n{\n  "code": 503,\n  "errno": 201,\n  "error": "Service Unavailable",\n  "message": "Service unavailable",\n  "info": "https://github.com/mozilla/fxa/blob/main/packages/fxa-auth-server/docs/api.md#response-format",\n  "retryAfter": 30,\n  "retryAfterLocalized": "in a few seconds"\n}\n')))}f.isMDXComponent=!0}}]);