"use strict";(self.webpackChunkfirefox_ecosystem_platform=self.webpackChunkfirefox_ecosystem_platform||[]).push([[2526],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),m=a,d=c["".concat(l,".").concat(m)]||c[m]||h[m]||i;return n?r.createElement(d,o(o({ref:t},p),{},{components:n})):r.createElement(d,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},40365:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return p},default:function(){return c}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],s={id:"push-feature",title:"Firefox Push",sidebar_label:"Overview"},l=void 0,u={unversionedId:"platform/firefox-push/push-feature",id:"platform/firefox-push/push-feature",isDocsHomePage:!1,title:"Firefox Push",description:"Mozilla Push Service is the server-side project supporting Push Notifications in",source:"@site/docs/platform/firefox-push/push-feature.md",sourceDirName:"platform/firefox-push",slug:"/platform/firefox-push/push-feature",permalink:"/ecosystem-platform/platform/firefox-push/push-feature",editUrl:"https://github.com/mozilla/ecosystem-platform/edit/main/website/docs/platform/firefox-push/push-feature.md",tags:[],version:"current",frontMatter:{id:"push-feature",title:"Firefox Push",sidebar_label:"Overview"},sidebar:"docs",previous:{title:"Pairing authentication",permalink:"/ecosystem-platform/platform/firefox-accounts/pairing"},next:{title:"Design, API's, Error Codes",permalink:"/ecosystem-platform/platform/firefox-push/push-design"}},p=[{value:"Service Architecture",id:"service-architecture",children:[]},{value:"Code",id:"code",children:[]},{value:"People and Places",id:"people-and-places",children:[{value:"Product",id:"product",children:[]},{value:"Mail Lists and IRC",id:"mail-lists-and-irc",children:[]}]},{value:"Sending Push Messages",id:"sending-push-messages",children:[]},{value:"Terminology",id:"terminology",children:[]},{value:"Alternate Implementation",id:"alternate-implementation",children:[]},{value:"Community Contributions",id:"community-contributions",children:[]}],h={toc:p};function c(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Mozilla Push Service is the server-side project supporting Push Notifications in\n",(0,i.kt)("a",{parentName:"p",href:"https://www.mozilla.org/en-US/firefox/"},"Firefox"),". The current server is\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/mozilla-services/autopush"},"autopush"),". You can\nlearn how to use the web based API to push messages to web\napplications running Push by reading the ",(0,i.kt)("a",{parentName:"p",href:"https://autopush.readthedocs.io/en/latest/http.html"},"autopush HTTP API\ndocument"),"."),(0,i.kt)("h2",{id:"service-architecture"},"Service Architecture"),(0,i.kt)("p",null,"TBD"),(0,i.kt)("h2",{id:"code"},"Code"),(0,i.kt)("p",null,"The current production deployment of Push is a Python-based websocket server\nnamed ",(0,i.kt)("strong",{parentName:"p"},"autopush"),", developed on Github. The Push Service team has several\nrepositories for development of the Push Server, and supporting tooling."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/mozilla-services/autopush"},"autopush")," - Push connection\nand endpoint server (Python, only autoendpoint in use)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/mozilla-services/autopush-rs"},"autopush-rs")," - Push connection\nserver (Rust, connection-node only, production deployed)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/mozilla-services/megaphone"},"megaphone")," - Global broadcast\nserver"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/mozilla-services/ap-loadtester/"},"ap-loadtester")," - Load and\nend-to-end Push testing application")),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"#architecture"},"architecture")," image for reference on what components\neach of these code pieces correspond to."),(0,i.kt)("h2",{id:"people-and-places"},"People and Places"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/bbangert"},"Ben Bangert")," - Engineering (San Francisco, UTC-8)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/jrconlin"},"JR Conlin")," - Engineering (Mountain View, UTC-8)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/pjenvey"},"Philip Jenvey")," - Engineering (San Francisco, UTC-8)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/chartjes"},"Chris Hartjes")," - QA (Ontario, UTC-5)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/oremj"},"Jeremy Orem")," - Operations (Portland, UTC-8)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/jdragojevic"},"Janet Dragojevic")," - Application Services Manager (New York, UTC-5)")),(0,i.kt)("h3",{id:"product"},"Product"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Alex Davis (:ADavis) - Product Manager (Vancouver, UTC-8)"),(0,i.kt)("li",{parentName:"ul"},"Julie McCracken (:Julie) - Engineering Program Manager (San Diego, UTC-8)")),(0,i.kt)("h3",{id:"mail-lists-and-irc"},"Mail Lists and IRC"),(0,i.kt)("p",null,"Additional ways to get in contact with the team:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"https://groups.google.com/a/mozilla.com/forum/#!forum/push-service"},"Push-Service mail list (public)")),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"http://groups.google.com/a/mozilla.com/group/push/"},"Push mailing list (Mozilla internal)")),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"#push")," channel on ",(0,i.kt)("a",{parentName:"li",href:"https://wiki.mozilla.org/IRC"},"Mozilla IRC"))),(0,i.kt)("h2",{id:"sending-push-messages"},"Sending Push Messages"),(0,i.kt)("p",null,"If you are interested in using WebPush for your application, there are\na number of resources that should help."),(0,i.kt)("p",null,"If you are adding Push to your browser or progressive enhancement\napplication, see ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Push_API/Using_the_Push_API"},"Using the Push\nAPI"),"\non MDN."),(0,i.kt)("p",null,"If you are creating a service that sends Push messages to remote\nbrowser applications, see ",(0,i.kt)("a",{parentName:"p",href:"https://autopush.readthedocs.io/en/latest/http.html"},"HTTP Endpoints for\nNotifications"),"."),(0,i.kt)("h2",{id:"terminology"},"Terminology"),(0,i.kt)("p",null,"The Push Service uses a range of terminology that can be difficult at first to\nkeep straight. This is a list of commonly used terms and phrases with their\nmeaning in the context of Push."),(0,i.kt)("p",null,"For an overview of how these terms fit together to deliver a push message to a\nuser-agent, ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.mozilla.org/Firefox/Push_Notifications#Technologies"},"see the Firefox Push Notification high-level\ndiagram"),". This\npage also includes descriptions of related technologies that help to deliver a\ncohesive Push Notification experience."),(0,i.kt)("p",null,"Where applicable, these match the ",(0,i.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/draft-ietf-webpush-protocol-01#section-1.1"},"Webpush Spec Terminology"),"."),(0,i.kt)("dl",null,(0,i.kt)("dt",null,"Application"),(0,i.kt)("dd",null,"Both the sender and ultimate consumer of push messages. Many applications have components that are run on a user agent and other components that run on servers."),(0,i.kt)("dt",null,"Application Server"),(0,i.kt)("dd",null,"The component of an application that runs on a server and requests the delivery of a push message."),(0,i.kt)("dt",null,"Channel ID"),(0,i.kt)("dd",null,"Legacy terminology for a Push Message Subscription utilized by WebPush and the websocket client protocol."),(0,i.kt)("dt",null,"Endpoint"),(0,i.kt)("dd",null,'A REST-ful HTTP URL uniquely associated with a Push Message Subscription. This is referred to as a "push resource" in the [WebPush specification][wp].'),(0,i.kt)("dt",null,"Push Message Subscription"),(0,i.kt)("dd",null,"A message delivery context that is established between the user agent and the push service and shared with the application server.  All push messages are associated with a push message subscription."),(0,i.kt)("dt",null,"Push Message"),(0,i.kt)("dd",null,"A message sent from an application server to a user agent via a push service."),(0,i.kt)("dt",null,"Push Message Receipt"),(0,i.kt)("dd",null,"A message delivery confirmation sent from the push service to the application server."),(0,i.kt)("dt",null,"Push Service"),(0,i.kt)("dd",null,"A service that delivers push messages to user agents."),(0,i.kt)("dt",null,"SimplePush"),(0,i.kt)("dd",null,"Deprecated Firefox OS specific Push system that carries no data, only an incrementing version number. The Mozilla Push Service no longer continues to support this legacy API."),(0,i.kt)("dt",null,"UAID"),(0,i.kt)("dd",null,"A globally unique UserAgent ID. Used by the Push Service to associate clients utilizing the websocket protocol with their associated channel ID's. This string is always a UUID."),(0,i.kt)("dt",null,"User Agent"),(0,i.kt)("dd",null,"A device and software that is the recipient of push messages."),(0,i.kt)("dt",null,"WebPush"),(0,i.kt)("dd",null,"IETF specification regarding Push Messages, the protocol for their delivery (HTTP 2.0) to User Agents, and how the Application Server interacts with the Push Service. [See the complete Webpush Specification][wp].")),(0,i.kt)("h2",{id:"alternate-implementation"},"Alternate Implementation"),(0,i.kt)("p",null,"Other groups have implemented Push Services implementing WebPush."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/aerogear/aerogear-unifiedpush-server"},"Aerogear Unified Push Server"))),(0,i.kt)("h2",{id:"community-contributions"},"Community Contributions"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://gist.github.com/matzew"},"Matthias Wessendorf")," has provided ",(0,i.kt)("a",{parentName:"p",href:"https://gist.github.com/matzew/cbda360d72eaaef75971"},"a quick\nhack")," showing how to call\nthe server by hand."))}c.isMDXComponent=!0}}]);